otb_module_test()

set(OTBLabelMapTests
otbLabelMapTestDriver.cxx
otbAttributesMapLabelObjectWithClassLabelNew.cxx
otbLabelObjectMapVectorizer.cxx
otbAttributesMapOpeningLabelMapFilterNew.cxx
otbLabelImageToLabelMapWithAdjacencyFilter.cxx
otbStatisticsAttributesLabelMapFilterNew.cxx
otbLabelObjectToPolygonFunctorNew.cxx
otbLabelMapWithClassLabelToLabeledSampleListFilterNew.cxx
otbAttributesMapLabelObjectNew.cxx
otbLabelMapToSampleListFilterNew.cxx
otbLabelMapSourceNew.cxx
otbLabelMapToAttributeImageFilterNew.cxx
)

add_executable(otbLabelMapTestDriver ${OTBLabelMapTests})
target_link_libraries(otbLabelMapTestDriver ${OTBLabelMap-Test_LIBRARIES})
otb_module_target_label(otbLabelMapTestDriver)

# Tests Declaration

otb_add_test(NAME obTuAttributesMapLabelObjectWithClassLabelNew COMMAND otbLabelMapTestDriver
  otbAttributesMapLabelObjectWithClassLabelNew)

otb_add_test(NAME obTvLabelObjectMapVectorizer COMMAND otbLabelMapTestDriver
  otbLabelObjectMapVectorizer
  ${INPUTDATA}/rcc8_mire1.png
  rcc8_mire1_label_vectorizer.gml)

otb_add_test(NAME obTuAttributesMapOpeningLabelMapFilterNew COMMAND otbLabelMapTestDriver
  otbAttributesMapOpeningLabelMapFilterNew)

otb_add_test(NAME obTuLabelImageToLabelMapWithAdjacencyFilterNew COMMAND otbLabelMapTestDriver
  otbLabelImageToLabelMapWithAdjacencyFilterNew)

otb_add_test(NAME obTvLabelImageToLabelMapWithAdjacencyFilter COMMAND otbLabelMapTestDriver
  --compare-ascii ${NOTOL}
  ${BASELINE_FILES}/obTvLabelImageToLabelMapWithAdjacencyFilterOutput.txt
  ${TEMP}/obTvLabelImageToLabelMapWithAdjacencyFilterOutput.txt
  otbLabelImageToLabelMapWithAdjacencyFilter
  ${INPUTDATA}/simpleLabelImage.tif
  ${TEMP}/obTvLabelImageToLabelMapWithAdjacencyFilterOutput.txt
  )

otb_add_test(NAME obTuStatisticsAttributesLabelMapFilterNew COMMAND otbLabelMapTestDriver
  otbStatisticsAttributesLabelMapFilterNew)

otb_add_test(NAME obTuLabelObjectToPolygonFunctorNew COMMAND otbLabelMapTestDriver
  otbLabelObjectToPolygonFunctorNew)

otb_add_test(NAME obTuLabelMapWithClassLabelToLabeledSampleListFilterNew COMMAND otbLabelMapTestDriver
  otbLabelMapWithClassLabelToLabeledSampleListFilterNew)

otb_add_test(NAME obTuAttributesMapLabelObjectNew COMMAND otbLabelMapTestDriver
  otbAttributesMapLabelObjectNew)

otb_add_test(NAME obTuLabelMapToSampleListFilterNew COMMAND otbLabelMapTestDriver
  otbLabelMapToSampleListFilterNew)

otb_add_test(NAME obTuLabelMapSourceNew COMMAND otbLabelMapTestDriver
  otbLabelMapSourceNew)

otb_add_test(NAME obTuLabelMapToAttributeImageFilterNew COMMAND otbLabelMapTestDriver
  otbLabelMapToAttributeImageFilterNew)

